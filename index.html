<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />
    <link
      rel="icon"
      href="img/3_enemies_chicken/chicken_normal/1_walk/1_w.png"
      type="img2/x-icon"
    />
    <title>El Pollo Loco</title>

    <!-- Scripts -->
    <script src="models/drawable-object.class.js"></script>
    <script src="models/movable-object.class.js"></script>
    <script src="models/character.class.js"></script>
    <script src="models/chicken.class.js"></script>
    <script src="models/cloud.class.js"></script>
    <!-- Statusleisten & Sammelobjekte -->
    <script src="models/health-bar.class.js"></script>
    <script src="models/endboss-bar.class.js"></script>
    <script src="models/coin.class.js"></script>
    <script src="models/coin-bar.class.js"></script>
    <script src="models/bottle.class.js"></script>
    <script src="models/bottle-bar.class.js"></script>
    <!-- Welt -->
    <script src="models/world.class.js"></script>
    <script src="models/background-object.class.js"></script>
    <script src="models/keyboard.class.js"></script>
    <script src="models/level.class.js"></script>
    <script src="models/throwable-object.class.js"></script>
    <script src="models/endboss.class.js"></script>
    <script src="levels/Lv.1.js"></script>
    <script src="models/endscreen.class.js"></script>
    <script src="scripts/game.js"></script>
  </head>
  <body onload="init()">
    <h1>El Polllo Loco</h1>

    <!-- 🔥 Canvas Wrapper für Start Screen + Canvas -->
    <div id="canvasWrapper" class="canvas-wrapper">
      <!-- Start Screen Container -->
      <div id="startContainer" class="start-container">
        <div class="start-button-line">
          <button
            class="start-button-small"
            title="Instructions"
            onclick="openGameplayInfo()"
          >
            ℹ️
          </button>
          <button
            class="start-button-small"
            title="Controller"
            onclick="openControls()"
          >
            🎮
          </button>
          <button
            id="startButton"
            class="start-button"
            onclick="startGame()"
            title="Start game"
          >
            Start Game
          </button>
          <!-- 🔥 Sound Ein/Ausschalten -->
          <button
            id="muteButtonStart"
            class="start-button-small"
            title="Sound on/off"
            onclick="toggleMute()"
          >
            🔇
          </button>
          <a href="impressum.html" class="impressum-link">
            <button class="start-button-small" title="Legal notes">📝</button>
          </a>
        </div>
      </div>

      <canvas id="canvas" width="720" height="480"></canvas>

      <!-- ☰ BURGER MENU BUTTON (nur sichtbar während des Spiels) -->
      <button
        id="burgerMenuBtn"
        class="burger-menu-btn d-none"
        onclick="openBurgerMenu()"
        title="Menu"
      >
        ☰
      </button>

      <!-- ☰ BURGER MENU DIALOG -->
      <dialog id="burgerMenuDialog" class="burger-dialog">
        <!-- Schließen-Button -->
        <button class="close-btn" onclick="closeBurgerMenu()">✕</button>

        <!-- Titel -->
        <h2>Menü</h2>

        <!-- Menu Buttons -->
        <div class="burger-menu-buttons">
          <button class="menu-action-btn" onclick="openGameplayInfoFromMenu()">
            <span class="btn-icon">ℹ️</span>
            <span class="btn-label">Anleitung</span>
          </button>

          <!-- 🔥🎮 Controller Einstellungen -->
          <button class="menu-action-btn" onclick="openControlsFromMenu()">
            <span class="btn-icon">🎮</span>
            <span class="btn-label">Steuerung</span>
          </button>

          <!-- 🔥 Sound Ein/Ausschalten -->
          <button
            id="muteButtonBurger"
            class="menu-action-btn"
            onclick="toggleMute()"
          >
            <span id="muteIconBurger" class="btn-icon">🔇</span>
            <span id="muteLabelBurger" class="btn-label">Sound muten</span>
          </button>

          <button class="menu-action-btn" onclick="backToStartScreen()">
            <span class="btn-icon">↩️</span>
            <span class="btn-label">Zurück zum Start</span>
          </button>
        </div>
      </dialog>

      <!-- 🔥 GAMEPLAY INFO DIALOG (NEU - HIER EINFÜGEN!) -->
      <dialog id="gameplayInfoDialog" class="gameplay-dialog">
        <!-- Schließen-Button -->
        <button class="close-btn" onclick="closeGameplayInfo()">✕</button>

        <!-- Titel -->
        <h2>Infos zum Gameplay</h2>

        <div class="info-container">
          <!-- Spielziel -->
          <div class="info-section">
            <h3>🎯 Spielziel</h3>
            <p>
              Besiege den Endboss, indem du Flaschen auf ihn wirfst oder auf ihn
              springst. Sammle fleißig Flaschen & Münzen ein!
            </p>
          </div>

          <!-- Gegner -->
          <div class="info-section">
            <h3>💥 Schaden</h3>
            <p>
              Der Endboss verliert nur 5% Leben, wenn du auf ihn springst. Du
              verlierst dagegen 20% Leben
            </p>
          </div>
        </div>
      </dialog>
      <!-- 🎮 CONTROLS DIALOG -->
      <dialog id="controlsDialog" class="gameplay-dialog">
        <!-- Schließen-Button -->
        <button class="close-btn" onclick="closeControls()">✕</button>

        <!-- Titel -->
        <h2>🎮 Steuerung</h2>

        <div class="info-container">
          <!-- Bewegung -->
          <div class="info-section">
            <h3>🏃 Bewegung</h3>
            <table class="controls-table">
              <tr>
                <td class="key-cell">◀︎ ▶︎</td>
                <td class="description-cell">
                  Pfeiltasten zum Laufen in entsprechende Richtung
                </td>
              </tr>
            </table>
          </div>

          <!-- Angriff -->
          <div class="info-section">
            <h3>💥 Angriff</h3>
            <table class="controls-table">
              <tr>
                <td class="key-cell">▲</td>
                <td class="description-cell">
                  Auf den Gegner von oben springen
                </td>
              </tr>
              <tr>
                <td class="key-cell">D</td>
                <td class="description-cell">
                  Flasche werfen (wenn gesammelt)
                </td>
              </tr>
            </table>
          </div>
        </div>
      </dialog>
    </div>
  </body>
</html>
